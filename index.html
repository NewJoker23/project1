
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Be My Valentine? üíò</title>
  <style>
    :root{
      --bg:#fff5f7;
      --card:#ffffffcc;
      --pink:#ff4d6d;
      --dark:#2b2b2b;
      --accent:#ff8fab;
      --accent2:#ffc2d1;
    }

    html,body{height:100%;margin:0}
    body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
      background: radial-gradient(1200px 600px at 50% -10%, #ffe3ec 0%, #fff 60%) , var(--bg);
      color: var(--dark);
      display:flex;align-items:center;justify-content:center;
      overflow:hidden;
    }
    .container{
      width: min(720px, 92vw);
      background: var(--card);
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
      border-radius: 18px;
      padding: clamp(18px, 4vw, 36px);
      text-align:center;
      position:relative;
    }
    h1{
      margin: 0 0 .25rem 0;
      font-size: clamp(1.8rem, 4.5vw, 2.6rem);
    }
    .heart-line{
      color: var(--pink);
      font-size: clamp(1.1rem, 3.5vw, 1.4rem);
      font-weight: 700;
      letter-spacing:.5px;
      display:flex;align-items:center;justify-content:center;gap:.5rem;
      margin-bottom: .5rem;
    }
    .heart-line .heart{font-size:1.4em}
    .poem{
      font-size: clamp(1rem, 2.8vw, 1.15rem);
      margin: .5rem auto 1.25rem;
      color:#444;
      line-height:1.45;
      max-width: 36ch;
      min-height: 3.5em;
    }

    .question{font-size: clamp(1.15rem, 3.2vw, 1.35rem); margin: .75rem 0 1rem}
    .buttons{display:flex;gap:14px;justify-content:center;flex-wrap:wrap;position:relative;min-height:64px}

    button{
      border:0;
      padding: .8rem 1.2rem;
      border-radius: 999px;
      font-weight: 700;
      cursor: pointer;
      transition: transform .08s ease, background .2s ease, box-shadow .2s ease;
      box-shadow: 0 6px 14px rgba(255,77,109,.18);
    }
    #yesBtn{
      background: linear-gradient(135deg, var(--pink), var(--accent));
      color: white;
    }
    #yesBtn:hover{transform: translateY(-1px) scale(1.02)}
    #yesBtn:active{transform: translateY(0)}

    #noBtn{
      background: #fff;
      color: var(--pink);
      border: 2px solid var(--accent);
      box-shadow: 0 6px 14px rgba(0,0,0,.06);
      position: relative;
    }

    .msg{
      margin-top: .85rem;
      font-size: clamp(1rem, 2.6vw, 1.1rem);
      color:#333;
      min-height: 2.2em;
    }

    .hidden{display:none}

    /* Confetti canvas fills container */
    canvas#confetti{
      position:absolute;inset:0;
      width:100%;height:100%;
      pointer-events:none;
    }

    /* Floating background hearts for vibe */
    .bg-hearts{
      position:absolute;inset: -10vh 0 auto 0; height: 20vh; overflow: visible; pointer-events:none;
      display:flex;justify-content:center;gap:18px;opacity:.25;
      transform: translateY(-8px);
    }
    .bg-hearts span{animation: float 7s ease-in-out infinite; font-size: clamp(18px, 4vw, 26px)}
    .bg-hearts span:nth-child(2){animation-delay: 1.1s}
    .bg-hearts span:nth-child(3){animation-delay: 2.2s}
    @keyframes float {
      0%,100%{transform: translateY(0)}
      50%{transform: translateY(10px)}
    }

    footer{
      margin-top: 1rem;
      font-size:.85rem;
      color:#777;
    }
  </style>
</head>
<body>
  <div class="container" role="main" aria-live="polite">
    <div class="bg-hearts" aria-hidden="true">
      <span>üíó</span><span>üíñ</span><span>üíò</span>
    </div>

    <h1>Will you be my Valentine?</h1>
    <div class="heart-line">
      <span class="heart">‚ù§</span>
      <span id="name">Gloryana</span>
      <span class="heart">‚ù§</span>
    </div>

    <div id="poem" class="poem" aria-label="poem"></div>

    <div id="question" class="question">Please pick one:</div>

    <div class="buttons">
      <button id="yesBtn" aria-label="Yes">Yes</button>
      <button id="noBtn" aria-label="No">No</button>
    </div>

    <div id="message" class="msg"></div>
    <canvas id="confetti" class="hidden"></canvas>

    <footer id="footer" class="hidden">Took you long enough to get here ‚ù§</footer>
  </div>

  <script>
    /* ========== SETTINGS (edit these) ========== */
    const RECIPIENT_NAME = "Gloryana";     // shown between hearts
    const FINAL_NAME_IN_HEART = "Gloryana"; // if you want to change the name after they say Yes
    /* ========================================== */

    // Light, sweet lines shown randomly or when nudging
    const loveQuotes = [
      "You are the sunshine that makes my day.",
      "Your love is the melody in my heart.",
      "In your arms, I've found my forever home.",
      "Every moment with you is a beautiful dream.",
      "You and I, a love story written in the stars."
    ];

    const nudgeMessages = [
      "Try again‚Äîyou pressed the wrong answer üòâ",
      "Hmm, I think you meant ‚ÄòYes‚Äô üòå",
      "Are you sure? It starts with ‚ÄòY‚Äô and ends with ‚Äòes‚Äô ‚ú®",
      "The correct answer is definitely ‚ÄòYes‚Äô üíñ",
      "C‚Äômon‚Ä¶ say yes and make my day! ü•∞",
    ];

    const nameEl = document.getElementById('name');
    const poemEl = document.getElementById('poem');
    const msgEl  = document.getElementById('message');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');
    const confettiCanvas = document.getElementById('confetti');
    const footerEl = document.getElementById('footer');

    nameEl.textContent = RECIPIENT_NAME;

    // Show a random little poem line on load
    function randomOf(arr){ return arr[Math.floor(Math.random()*arr.length)] }
    poemEl.textContent = randomOf(loveQuotes);

    let attempts = 0;
    let lockedYes = false;

    yesBtn.addEventListener('click', () => {
      if (lockedYes) return;
      sayYes();
    });

    noBtn.addEventListener('click', () => {
      if (lockedYes) return;
      attempts++;
      msgEl.textContent = attempts <= nudgeMessages.length
        ? nudgeMessages[attempts-1]
        : "Okay okay‚Ä¶ but are you absolutely sure? ü•∫";

      // Keep it playful: move the No button a little
      playfulDodge(noBtn);

      // Make Yes button slightly bigger each time
      const scale = Math.min(1 + attempts*0.06, 1.4);
      yesBtn.style.transform = `scale(${scale})`;

      // Update poem line occasionally
      if (attempts % 2 === 1) poemEl.textContent = randomOf(loveQuotes);
    });

    function sayYes(){
      lockedYes = true;
      nameEl.textContent = FINAL_NAME_IN_HEART;
      msgEl.textContent = "Yay! You said YES! üíû";
      footerEl.classList.remove('hidden');
      startConfetti();
      // Disable No
      noBtn.disabled = true;
      noBtn.style.opacity = .5;
      // Make Yes celebratory
      yesBtn.textContent = "üíò Yes!";
    }

    // Move the No button within bounds of the buttons container
    function playfulDodge(btn){
      const parent = btn.parentElement;
      const rect = parent.getBoundingClientRect();
      const btnRect = btn.getBoundingClientRect();

      // Compute available area inside parent to keep button fully visible
      const maxLeft = rect.width - btnRect.width;
      const maxTop  = rect.height - btnRect.height;

      // Random target position
      const left = Math.max(0, Math.min(maxLeft, Math.random() * (maxLeft + 1)));
      const top  = Math.max(0, Math.min(maxTop,  Math.random() * (maxTop + 1)));

      btn.style.position = 'absolute';
      btn.style.left = `${left}px`;
      btn.style.top  = `${top}px`;
    }

    /* Simple Confetti (canvas-based, no dependencies) */
    function startConfetti(){
      confettiCanvas.classList.remove('hidden');
      const ctx = confettiCanvas.getContext('2d');
      let W, H, particles = [], running = true;

      function resize(){
        const dpr = window.devicePixelRatio || 1;
        W = confettiCanvas.clientWidth;
        H = confettiCanvas.clientHeight;
        confettiCanvas.width = W * dpr;
        confettiCanvas.height = H * dpr;
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      window.addEventListener('resize', resize);
      resize();

      const colors = ['#ff4d6d','#ff8fab','#ffc2d1','#ffd6e0','#ff7096'];
      for(let i=0;i<160;i++){
        particles.push({
          x: Math.random()*W,
          y: -20 - Math.random()*H,
          r: 4 + Math.random()*5,
          c: colors[Math.floor(Math.random()*colors.length)],
          vy: 1 + Math.random()*2.5,
          vx: -1 + Math.random()*2,
          rot: Math.random()*360,
          vr: -4 + Math.random()*8
        });
      }

      let t=0;
      (function loop(){
        if(!running) return;
        t++;
        ctx.clearRect(0,0,W,H);
        particles.forEach(p=>{
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;

          // recycle
          if(p.y > H+20){ p.y = -20; p.x = Math.random()*W; }

          // draw as rotated rectangle
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot * Math.PI/180);
          ctx.fillStyle = p.c;
          ctx.fillRect(-p.r, -p.r/2, p.r*2, p.r);
          ctx.restore();
        });
        requestAnimationFrame(loop);
      })();

      // auto-stop after 10s to save battery
      setTimeout(()=>{ running = false; }, 10000);
    }
  </script>
</body>
</html>

